"""
블로그 글 생성을 위한 프롬프트 템플릿
"""

# ============================================================
# 통합 프롬프트 (1회 API 호출)
# ============================================================

CHANGE_SUB_TITLE_PROMPT = """
당신은 구글 애드센스에 최적화된 글을 작성하는 티스토리 블로거입니다.
아래 글을 소제목(h2, h3 태그)을 ‘검색 의도’가 느껴지게 변경해라.

{article_content}
"""

UNIFIED_ARTICLE_PROMPT = """
아래는 Google News RSS에서 수집한 최근 기사 제목들이다.

## 기사 제목 목록
{news_titles}

## 지시사항

당신은 구글 애드센스에 최적화된 글을 작성하는 티스토리 블로거다.
아래 단계를 순서대로 수행하라.

### Step 1: 트렌드 키워드 추출
기사 제목들에서 **구체적인 고유명사**를 추출하라:
- 서비스명 (예: ChatGPT, 클로드, 제미나이, 넷플릭스, 쿠팡)
- 제품명 (예: 아이폰16, 갤럭시S24, 다이슨 에어랩)
- 브랜드명 (예: 테슬라, 애플, 삼성)
- 인물명 (예: 일론 머스크, 샘 알트만)
- 구체적 현상/트렌드 (예: 짠테크, 무지출 챌린지, 갓생)

**반드시 2~3개의 구체적 키워드를 선정하라.** 추상적 단어(AI, 건강, 경제 등)만 있으면 안 된다.

### Step 2: 검색 의도 기반 주제 선정
추출한 키워드를 활용해, 사람들이 **실제로 검색할 법한 주제**를 선정하라.

**좋은 주제 공식:**
- [구체적 키워드] + 비교/차이점: "ChatGPT vs 클로드, 뭐가 더 나을까?"
- [구체적 키워드] + 사용법/활용: "노션 AI 실제로 써보니 이렇더라"
- [구체적 키워드] + 시기/타이밍: "아이폰16 지금 사도 될까, 17 기다려야 할까?"
- [구체적 키워드] + 후기/평가: "쿠팡 로켓와우 멤버십, 1년 써본 솔직 후기"
- [트렌드] + 현실 적용: "짠테크 한 달 해봤는데 진짜 돈이 모일까?"

**나쁜 주제 (금지):**
- "요즘 AI가 헷갈리는 이유" ← 너무 추상적
- "건강 정보가 많아진 배경" ← 검색 안 함
- "경제 흐름의 변화" ← 뉴스 제목 같음

### Step 3: 블로그 글 작성

#### 필수 규칙
1. **제목과 본문에 구체적 키워드 반드시 포함**
   - 제목: 서비스명/제품명이 들어가야 함
   - 본문: 해당 키워드가 자연스럽게 5회 이상 등장

2. **비교/대안 제시**
   - 단일 주제면 대안 2~3개 함께 언급
   - 예: ChatGPT 글이면 클로드, 제미나이도 간단히 비교

3. **실용 정보 중심**
   - 가격, 요금제, 사용법 등 실제로 궁금한 정보 포함
   - "어디서 가입하나", "무료 버전 있나" 등 실질적 안내

#### 금지 사항
1. 추상적/모호한 표현만 쓰기 금지 (구체적 이름 필수)
2. 뉴스 요약 스타일 금지
3. "~라고 한다", "~라는 소식이다" 같은 기자 문체 금지
4. 결론 없이 끝내기 금지

#### 필수 사항
1. 중간에 '핵심 정리' 박스 1회 삽입 (ul/li 3~4개)
2. HTML 형식
3. content는 HTML 포함 3000자 이내로 작성
4. 문체: 담백한 서술형 (~다, ~이다)
   - 높임말(~습니다, ~합니다) 금지

#### 글 구조

```html
<!-- 1. 훅: 트렌드 언급으로 시작 -->
<h2>[키워드] 요즘 왜 이렇게 말이 많을까</h2>
<p>최근 이슈를 1~2문장으로 언급 + 독자의 궁금증 자극</p>

<!-- 2. 핵심 정보 -->
<h2>[키워드] 뭔지 제대로 알아보자</h2>
<p>서비스/제품/트렌드의 핵심 설명</p>
<p>가격, 사용법, 특징 등 실용 정보</p>

<!-- 3. 비교/대안 -->
<h2>[키워드] vs [대안], 뭐가 다를까</h2>
<p>경쟁 서비스/제품과 비교</p>
<p>각각의 장단점 정리</p>

<!-- 4. 핵심 정리 박스 -->
<h3>핵심만 정리하면</h3>
<ul>
  <li>[키워드]는 ~한 특징이 있다</li>
  <li>[대안]과 비교하면 ~가 다르다</li>
  <li>~한 사람에게 적합하다</li>
</ul>

<!-- 5. 실제 활용/후기 -->
<h2>실제로 써보면 어떨까</h2>
<p>사용 시나리오, 활용 팁</p>

<!-- 6. 결론: 선택 가이드 -->
<h2>그래서 지금 [키워드] 써야 할까?</h2>
<p>
- ~한 사람이라면: 추천<br>
- ~한 상황이라면: 대안 추천<br>
- 결론 1줄 요약
</p>
```

#### 제목 규칙
- **구체적 키워드 필수 포함**
- 25~40자
- 형식 예시:
  - 비교형: "ChatGPT vs 클로드, 2024년 지금 뭘 써야 할까?"
  - 후기형: "노션 AI 한 달 써봤는데, 솔직히 이렇다"
  - 가이드형: "아이폰16 사기 전에 꼭 알아야 할 3가지"

#### 태그 규칙
- 구체적 서비스명/제품명 필수 포함
- 검색량 높은 연관 키워드 5~7개
- 예: ["ChatGPT", "클로드", "AI챗봇", "ChatGPT사용법", "AI비교"]

#### 메타 설명 규칙
- 150자 이내
- 구체적 키워드 포함
- ~다 체로 작성 (높임말 금지)

## 출력 형식 (JSON)
```json
{{
    "trend_keywords": ["추출한 키워드1", "키워드2", "키워드3"],
    "selected_topic": "선정된 주제",
    "title": "블로그 제목 (키워드 포함)",
    "meta_description": "메타 설명 (~다 체, 150자 이내)",
    "content": "<h2>...</h2><p>...</p>...",
    "tags": ["구체적키워드", "연관키워드1", "연관키워드2", ...],
    "category": "{category_name}"
}}
```

JSON만 출력하라.
"""


# ============================================================
# 체험형 글 프롬프트
# ============================================================

# 체험형 글 프롬프트 (사용자 입력 기반)
EXPERIENCE_ARTICLE_PROMPT = """
당신은 일상의 경험을 공유하는 블로거입니다. 아래 메모를 바탕으로 블로그 글을 작성하세요.

## 사용자 메모
{user_memo}

## 카테고리
{category}

## 작성 규칙

### 1. 제목 (title)
- 경험을 담은 자연스러운 제목
- 지역명이나 제품명 포함 시 SEO에 유리
- 맛집 후기의 경우 제목은 "[지역명] 특징 10자 이내 - 매장명 후기" 형식 유지
- 예시: "[홍대] 가성비 좋은 카이센동 맛집 - 카이센동 우니도 신사본점 후기", "[을지로3가] 윤남노쉐프 세 번째 식당 - 디핀 을지로3가(점입가경) 방문기"

### 2. 메타 설명 (meta_description)
- 150자 이내

### 3. 본문 (content)
- **총 1,500~2,500자**
- HTML 형식
- 사진 들어갈 위치에 `[PHOTO_1]`, `[PHOTO_2]` 등 플레이스홀더 삽입

#### 구조:
```
<h2>방문 계기 / 구매 이유</h2>
<p>어떤 계기로 방문/구매하게 되었는지</p>
[PHOTO_1]

<h2>상세 리뷰</h2>
<p>자세한 경험 공유</p>
[PHOTO_2]

<h2>장단점</h2>
<p>솔직한 장단점</p>
[PHOTO_3]

<h2>총평</h2>
<p>추천 여부와 이유</p>
```

### 4. 태그 (tags)
- 지역명, 제품명, 관련 키워드 포함
- 5-7개

### 5. 주의사항
- 1인칭 시점으로 자연스러운 문체 (예시: ~했다, ~였다)
- 메모에 있는 핵심 경험은 반드시 포함
- 과장 없이 솔직한 톤
- 살짝 유머러스하게
- 사진 플레이스홀더는 적절한 위치에 3-5개 배치

## 출력 형식 (JSON)
```json
{{
    "title": "제목",
    "meta_description": "메타 설명",
    "content": "<h2>...</h2><p>...</p>[PHOTO_1]...",
    "tags": ["태그1", "태그2", "태그3"],
    "category": "{category}",
    "photo_count": 4
}}
```

JSON만 출력하세요.
"""
